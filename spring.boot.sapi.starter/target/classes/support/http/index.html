<!DOCTYPE html>
<html>
<head>
    <title>SAPI. A simple api starter for Spring</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="//cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
    <script src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--<script src="//cdn.bootcss.com/prettify/r298/prettify.min.js"></script>-->
    <script src="//cdn.bootcss.com/vue/2.2.2/vue.min.js"></script>
</head>
<body>
​<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">SAPI</a>
        </div>
        <div>
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">最新API</a></li>
                <li><a href="#">历史版本</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container" style="padding-top: 35px;min-height: 400px;">
    <div id="apiList" class="row" v-cloak>
        <div class="col-sm-12 well well-lg" v-for="data in apiDataList">
            <h3 class="page-header">请输入接口名称</h3>
            <p>接口说明：{{data.remark}}</p>
            <p>接口URL： {{data.url}}</p>
            <p>请求类型：{{data.requestType}}</p>
            <p><table class="table table-bordered">
            <caption>接口字段：</caption>
            <thead>
            <tr>
                <th>字段</th>
                <th>类型</th>
                <th>是否必须</th>
                <th>备注</th>
            </tr>
            </thead>
            <tbody>
            <tr v-for="field in data.fieldList">
                <td>{{field.name}}</td>
                <td>{{field.type}}</td>
                <td>{{field.notNull}}</td>
                <td>{{field.remark}}</td>
            </tr>

            </tbody>
        </table>
            </p>
            <p>成功：
            <pre>
            {{data.success}}
            </pre>
            </p>
            <p>其他：{{data.error}}</p>
        </div>


    </div>
</div>

<footer class="footer" style="border-top: 1px solid #CCCCCC">
    <div class="container text-center ">
        <br>
        <span>SAPI is a simple api starter for spring</span>
        <h6> sapi V1.0 ©️ xiaour</h6>
    </div>
</footer>
</body>
<script type="text/javascript">
    $(function(){
        vm = new Vue({
            el:'#apiList',
            data:{
                apiDataList : []
            }
        });
        getmc();
    });

    function getmc(){
        $.get("apiList",
            function(data){
                vm.apiDataList = data;
            });
    }

/*
    $(window).load(function(){$("pre").addClass("prettyprint linenums");prettyPrint();});
*/
</script>
</html>
